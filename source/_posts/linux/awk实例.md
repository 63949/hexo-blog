---
title: awk实例
date: 2016-03-29 16:22:39
tags: linux
---

## 表格数据处理

```
张三 100 90 80
李四 90 100 90
王五 80 80 100
```

数据有4列，分别表示姓名，语文，数学，英语成绩，给出语文，数学，英语分数最高的人名。

去掉第一行：`tail -n +2 file`

似乎可以用sort命令：

    sort -t ' ' -k 2 -n input

这就可以得出语文分数最高的那一行。参数解释：

```
-n 按数字来排序，默认是按照字符来排序
-t <字符> 指定分割字段的分隔符
-k 指定按哪个字段排序
-u 去除重复行
-r 倒序排序
-f 忽略大小写
-o <文件> 输出到文件
-b 忽略前导空白
```

**注意：**
`-k`参数的解释：

```
 -k, --key=POS1[,POS2]
  start a key at POS1 (origin 1), end it at POS2 (default end of line)
```

`-k`可以提供两个参数，第一个参数指定那个key来排序。但是并不只是使用这个字段排序，而是**作为一个起点**。如果不指定`[,POS2]`，则会把`POS1`到结尾的字符串都用来排序。



```
张三 语文 100
张三 数学 90
张三 英语 80
李四 语文 90
李四 数学 80
李四 英语 100
王五 语文 80
王五 数学 100
王五 英语 90
```


- [一起学shell之（七）产生脚本以及Awk的惊人表现 - 煮酒品茶 - 51CTO技术博客](http://cwtea.blog.51cto.com/4500217/871927/)





