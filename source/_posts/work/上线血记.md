---
title: 【TODO】上线血记
date: 2016-02-22 14:58:59
tags: work
---

后台开发，上线总是一件令人心惊胆战的事儿。就像《大规模网站技术架构》中描述的：

> 发布日，整个技术部门甚至运营部门就如临大敌，电话声此起彼伏，工程师步履匆匆，连空气中的温度都仿佛升高了几度。即便如此，发布过程还是常常出错，发布日工程师加班到凌晨是常有的事。而且容易忙中出错，因发布引发的故障也居高不下。

工作至今，也遇到不少次上线挂掉的经历，这些经历可都是弥足珍贵啊，也如《大规模网站技术构建》所说：

> 大型网站的技术本质都很简单，没有很花哨的东西，掌握起来也不难。大型网站的架构师最有价值的地方不在于他们掌握了多少技术，而在于他们经历过多少故障。每一次故障都会给公司带来难以估计的利益损失，所以培养一个网站架构师的成本不单要看付了他多少薪水，给了他多少股票，还要看为他引起的故障买了多少次单。

所以在此记录这些经历，希望你我都不要重蹈覆辙。

## SQL中，删除记录是delete而不是drop
不要笑，我刚刚开始工作的时候，上来一句`drop ...`就把一个非常重要的库给整个删了👼。。。

还好是开发机上，还算是恢复了。总是drop是非常危险的一个操作，需要小心。

## SQL不要跨库！

## xml转array的一个问题
2016年02月29日

    <areaInfo>北京市</areaInfo>
    会转为：
    "areaInfo" => 北京市
    
    <areaInfo></areaInfo>或<areaInfo/>
    则会转为
    "areaInfo" => array()

注意哦，不是空字符串哦！！！！
